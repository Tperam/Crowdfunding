{"ast":null,"code":"var _jsxFileName = \"/home/tperam/code/crowdfunding/src/Component/projectDetail.js\";\nimport React from 'react';\nimport { Table, Form, Modal, Button, Row, Col } from 'react-bootstrap';\nimport web3 from '../libs/web3';\nimport getProjectContract from '../libs/project';\n\nclass Project extends React.Component {\n  constructor(props) {\n    super(props); // 获取 路由参数address\n\n    this.state = {\n      project: {\n        // 此处一定要实例化一下(new Date())，否则下面setState不起作用\n        startDate: new Date(),\n        bonusEnds: new Date(),\n        endDate: new Date()\n      },\n      investInputShow: false\n    }; // 获取地址\n\n    this.address = this.props.match.params.address; // 获取合约实例\n\n    this.instance = getProjectContract(this.address);\n    this.getInfo();\n    this.getBalance();\n  }\n\n  async getInfo() {\n    let details = await this.instance.methods.getDetails().call();\n    let [owner, projectName, goal, maxInvest, minInvest, description, symbol, name, decimals, startDate, bonusEnds, bonusTokenToWei, tokenToWei, endDate] = Object.values(details);\n    let totalSupply = await this.instance.methods.totalSupply().call();\n    let balance = await web3.eth.getBalance(this.address);\n    let _project = {\n      address: this.address,\n      owner,\n      projectName: web3.utils.toUtf8(projectName),\n      goal: web3.utils.fromWei(goal, \"ether\"),\n      maxInvest: web3.utils.fromWei(maxInvest, \"ether\"),\n      minInvest: web3.utils.fromWei(minInvest, \"ether\"),\n      description,\n      symbol: web3.utils.toUtf8(symbol),\n      name: web3.utils.toUtf8(name),\n      decimals,\n      startDate: new Date(startDate * 1000),\n      bonusEnds: new Date(bonusEnds * 1000),\n      bonusTokenPrice: web3.utils.fromWei(bonusTokenToWei, \"ether\"),\n      tokenPrice: web3.utils.fromWei(tokenToWei, \"ether\"),\n      endDate: new Date(endDate * 1000),\n      balance: web3.utils.fromWei(balance),\n      totalSupply: totalSupply[0]\n    };\n    this.setState({\n      project: _project\n    });\n  }\n\n  async invest() {\n    let ethNum = this.refs.investInput.value.trim(); // 判断是不是数字\n\n    if (!/^\\d+$/.test(ethNum)) {\n      alert(\"不是数字\");\n      return false;\n    } // 判断是否有前端钱包\n\n\n    if (typeof window.web3 == 'undefined') {\n      // 弹出错误，没有前端钱包\n      alert(\"没有前端钱包\");\n      return false;\n    }\n\n    let accounts = await web3.eth.getAccounts();\n    this.instance.methods.contribute().send({\n      from: accounts[0],\n      value: web3.utils.toWei(ethNum, \"ether\"),\n      gas: 5000000\n    });\n    alert(\"请在钱包账户上进行支付！\");\n    this.setState({\n      investInputShow: false\n    });\n  }\n\n  async getBalance() {\n    let accounts = await web3.eth.getAccounts();\n    let balance = await this.instance.methods.balanceOf(accounts[0]).call();\n    console.log(balance);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 8\n      }\n    }, \"\\u9879\\u76EE\\u5730\\u5740:\"), /*#__PURE__*/React.createElement(\"th\", {\n      colSpan: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 8\n      }\n    }, this.state.project.address))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 8\n      }\n    }, \"\\u9879\\u76EE\\u540D:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 8\n      }\n    }, this.state.project.projectName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 8\n      }\n    }, \"\\u4F17\\u7B79\\u91D1\\u989D\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 8\n      }\n    }, this.state.project.goal, \" eth\")), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 8\n      }\n    }, \"\\u6700\\u5927\\u6295\\u8D44\\u91D1\\u989D\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 8\n      }\n    }, this.state.project.maxInvest, \" eth\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 8\n      }\n    }, \"\\u6700\\u5C0F\\u6295\\u8D44\\u91D1\\u989D\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 8\n      }\n    }, this.state.project.minInvest, \" eth\")), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 8\n      }\n    }, \"\\u9879\\u76EE\\u5E01\\u7B80\\u79F0\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 8\n      }\n    }, this.state.project.symbol), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 8\n      }\n    }, \"\\u9879\\u76EE\\u5E01\\u5168\\u79F0\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 8\n      }\n    }, this.state.project.name)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 8\n      }\n    }, \"token\\u4EF7\\u503C\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 8\n      }\n    }, this.state.project.tokenPrice, \" eth\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 8\n      }\n    }, \"\\u591A\\u5C11\\u4F4D\\u5C0F\\u6570\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 8\n      }\n    }, this.state.project.decimals)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 8\n      }\n    }, \"\\u5F00\\u59CB\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 8\n      }\n    }, this.state.project.startDate.getFullYear(), \"\\u5E74\", this.state.project.startDate.getMonth() + 1, \"\\u6708\", this.state.project.startDate.getDate() + 1, \"\\u65E5\", this.state.project.startDate.getHours(), \"\\u65F6\", this.state.project.startDate.getMinutes(), \"\\u5206\", this.state.project.startDate.getSeconds(), \"\\u79D2\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 8\n      }\n    }, \"\\u7ED3\\u675F\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 8\n      }\n    }, this.state.project.endDate.getFullYear(), \"\\u5E74\", this.state.project.endDate.getMonth() + 1, \"\\u6708\", this.state.project.endDate.getDate() + 1, \"\\u65E5\", this.state.project.endDate.getHours(), \"\\u65F6\", this.state.project.endDate.getMinutes(), \"\\u5206\", this.state.project.endDate.getSeconds(), \"\\u79D2\")), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 8\n      }\n    }, \"\\u5956\\u52B1\\u622A\\u6B62\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 8\n      }\n    }, this.state.project.bonusEnds.getFullYear() + 1, \"\\u5E74\", this.state.project.bonusEnds.getMonth() + 1, \"\\u6708\", this.state.project.bonusEnds.getDate() + 1, \"\\u65E5\", this.state.project.bonusEnds.getHours(), \"\\u65F6\", this.state.project.bonusEnds.getMinutes(), \"\\u5206\", this.state.project.bonusEnds.getSeconds(), \"\\u79D2\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 8\n      }\n    }, \"\\u5956\\u52B1\\u65F6token\\u4EF7\\u503C\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 8\n      }\n    }, this.state.project.bonusTokenPrice)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 8\n      }\n    }, \"\\u5269\\u4F59\\u94B1\\u6570/\\u5DF2\\u52DF\\u8D44\\u8D44\\u91D1\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 8\n      }\n    }, this.state.project.balance, \" eth\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 8\n      }\n    }, \"\\u603B\\u53D1\\u5E01\\u6570\\u91CF\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 8\n      }\n    }, this.state.project.totalSupply)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 8\n      }\n    }, \"\\u9879\\u76EE\\u63CF\\u8FF0\"), /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"textarea\",\n      rows: \"10\",\n      value: this.state.project.description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setState({\n        investInputShow: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, \"\\u6295\\u8D44\")), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.investInputShow,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      id: \"contained-modal-title-vcenter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 7\n      }\n    }, \"\\u6295\\u8D44\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 8\n      }\n    }, \"\\u6295\\u8D44\\u91D1\\u989D\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"eth num\",\n      ref: \"investInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 8\n      }\n    }, \"\\u586B\\u5165\\u6295\\u8D44\\u91D1\\u989D\\uFF0C\\u4E0D\\u80FD\\u5927\\u4E8E\\u6700\\u5927\\u6295\\u8D44\\u91D1\\u989D\\uFF0C\\u4E5F\\u4E0D\\u80FD\\u5C0F\\u4E8E\\u6700\\u5C0F\\u6295\\u8D44\\u91D1\\u989D \\u5FC5\\u987B\\u4E3A\\u6570\\u5B57\"))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.invest.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 7\n      }\n    }, \"\\u6295\\u8D44\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setState({\n        investInputShow: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 7\n      }\n    }, \"Close\"))));\n  }\n\n}\n\nexport default Project;","map":{"version":3,"sources":["/home/tperam/code/crowdfunding/src/Component/projectDetail.js"],"names":["React","Table","Form","Modal","Button","Row","Col","web3","getProjectContract","Project","Component","constructor","props","state","project","startDate","Date","bonusEnds","endDate","investInputShow","address","match","params","instance","getInfo","getBalance","details","methods","getDetails","call","owner","projectName","goal","maxInvest","minInvest","description","symbol","name","decimals","bonusTokenToWei","tokenToWei","Object","values","totalSupply","balance","eth","_project","utils","toUtf8","fromWei","bonusTokenPrice","tokenPrice","setState","invest","ethNum","refs","investInput","value","trim","test","alert","window","accounts","getAccounts","contribute","send","from","toWei","gas","balanceOf","console","log","render","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","bind"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Table, Form, Modal, Button, Row, Col } from 'react-bootstrap';\nimport web3 from '../libs/web3';\nimport getProjectContract from '../libs/project';\n\nclass Project extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t// 获取 路由参数address\n\t\tthis.state = {\n\t\t\tproject:{\n\t\t\t\t// 此处一定要实例化一下(new Date())，否则下面setState不起作用\n\t\t\t\tstartDate: new Date(),\n\t\t\t\tbonusEnds: new Date(),\n\t\t\t\tendDate: new Date()\n\t\t\t},\n\t\t\tinvestInputShow:false,\n\t\t}\n\n\t\t// 获取地址\n\t\tthis.address = this.props.match.params.address;\n\t\t// 获取合约实例\n\t\tthis.instance = getProjectContract(this.address);\n\n\t\tthis.getInfo();\n\t\tthis.getBalance();\n\t}\n\n\tasync getInfo(){\n\n\t\tlet details = await this.instance.methods.getDetails().call();\n\t\tlet [\n\t\t\towner,\n\t\t\tprojectName,\n\t\t\tgoal,\n\t\t\tmaxInvest,\n\t\t\tminInvest,\n\t\t\tdescription,\n\t\t\tsymbol,\n\t\t\tname,\n\t\t\tdecimals,\n\t\t\tstartDate,\n\t\t\tbonusEnds,\n\t\t\tbonusTokenToWei,\n\t\t\ttokenToWei,\n\t\t\tendDate\n\t\t] = Object.values(details);\n\t\tlet totalSupply = await this.instance.methods.totalSupply().call()\n\t\tlet balance = await web3.eth.getBalance(this.address)\n\n\n\t\tlet _project = {\n\t\t\taddress: this.address,\n\t\t\towner,\n\t\t\tprojectName: web3.utils.toUtf8(projectName),\n\t\t\tgoal: web3.utils.fromWei(goal,\"ether\"),\n\t\t\tmaxInvest: web3.utils.fromWei(maxInvest,\"ether\"),\n\t\t\tminInvest: web3.utils.fromWei(minInvest,\"ether\"),\n\t\t\tdescription,\n\t\t\tsymbol: web3.utils.toUtf8(symbol),\n\t\t\tname: web3.utils.toUtf8(name),\n\t\t\tdecimals,\n\t\t\tstartDate: new Date(startDate*1000),\n\t\t\tbonusEnds: new Date(bonusEnds*1000),\n\t\t\tbonusTokenPrice: web3.utils.fromWei(bonusTokenToWei,\"ether\"),\n\t\t\ttokenPrice: web3.utils.fromWei(tokenToWei,\"ether\"),\n\t\t\tendDate: new Date(endDate*1000),\n\t\t\tbalance: web3.utils.fromWei(balance),\n\t\t\ttotalSupply: totalSupply[0]\n\t\t};\n\n\t\tthis.setState({\n\t\t\tproject: _project,\n\t\t})\n\n\t}\n\n\tasync invest(){\n\t\tlet ethNum = this.refs.investInput.value.trim()\n\t\t// 判断是不是数字\n\t\tif ( ! (/^\\d+$/).test(ethNum)){\n\t\t\talert(\"不是数字\")\n\t\t\treturn false;\n\t\t}\n\t\t// 判断是否有前端钱包\n\t\tif (typeof window.web3 == 'undefined'){\n\t\t\t// 弹出错误，没有前端钱包\n\t\t\talert(\"没有前端钱包\")\n\t\t\treturn false;\n\t\t}\n\n\t\tlet accounts = await web3.eth.getAccounts();\n\n\t\tthis.instance.methods.contribute().send({from:accounts[0],value:web3.utils.toWei(ethNum,\"ether\"),gas:5000000})\n\n\t\talert(\"请在钱包账户上进行支付！\")\n\n\t\tthis.setState({ \n\t\t\tinvestInputShow:false\n\t\t})\n\t}\n\n\tasync getBalance(){\n\t\tlet accounts = await web3.eth.getAccounts();\n\t\tlet balance = await this.instance.methods.balanceOf(accounts[0]).call();\n\t\tconsole.log(balance);\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Table striped bordered hover>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th align=\"right\">项目地址:</th>\n\t\t\t\t\t\t\t<th colSpan=\"3\">{this.state.project.address}</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>项目名:</td>\n\t\t\t\t\t\t\t<td>{this.state.project.projectName}</td>\n\t\t\t\t\t\t\t<td>众筹金额</td>\n\t\t\t\t\t\t\t<td>{this.state.project.goal} eth</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>最大投资金额</td>\n\t\t\t\t\t\t\t<td>{this.state.project.maxInvest} eth</td>\n\t\t\t\t\t\t\t<td>最小投资金额</td>\n\t\t\t\t\t\t\t<td>{this.state.project.minInvest} eth</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>项目币简称</td>\n\t\t\t\t\t\t\t<td>{this.state.project.symbol}</td>\n\t\t\t\t\t\t\t<td>项目币全称</td>\n\t\t\t\t\t\t\t<td>{this.state.project.name}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>token价值</td>\n\t\t\t\t\t\t\t<td>{this.state.project.tokenPrice} eth</td>\n\t\t\t\t\t\t\t<td>多少位小数</td>\n\t\t\t\t\t\t\t<td>{this.state.project.decimals}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>开始时间</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{this.state.project.startDate.getFullYear()}年{this.state.project.startDate.getMonth()+1}月{this.state.project.startDate.getDate()+1}日\n\t\t\t\t\t\t\t\t{this.state.project.startDate.getHours()}时{this.state.project.startDate.getMinutes()}分{this.state.project.startDate.getSeconds()}秒\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>结束时间</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{this.state.project.endDate.getFullYear()}年{this.state.project.endDate.getMonth()+1}月{this.state.project.endDate.getDate()+1}日\n\t\t\t\t\t\t\t\t{this.state.project.endDate.getHours()}时{this.state.project.endDate.getMinutes()}分{this.state.project.endDate.getSeconds()}秒\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>奖励截止时间</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{this.state.project.bonusEnds.getFullYear()+1}年{this.state.project.bonusEnds.getMonth()+1}月{this.state.project.bonusEnds.getDate()+1}日\n\t\t\t\t\t\t\t\t{this.state.project.bonusEnds.getHours()}时{this.state.project.bonusEnds.getMinutes()}分{this.state.project.bonusEnds.getSeconds()}秒\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>奖励时token价值</td>\n\t\t\t\t\t\t\t<td>{this.state.project.bonusTokenPrice}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>剩余钱数/已募资资金</td>\n\t\t\t\t\t\t\t<td>{this.state.project.balance} eth</td>\n\t\t\t\t\t\t\t<td>总发币数量</td>\n\t\t\t\t\t\t\t<td>{this.state.project.totalSupply}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>项目描述</td>\n\t\t\t\t\t\t\t<td colSpan=\"3\"> \n\t\t\t\t\t\t\t\t<Form.Control as=\"textarea\" rows=\"10\" value={this.state.project.description}/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col><Button onClick={ ()=> this.setState({ investInputShow:true }) }>投资</Button></Col>\n\t\t\t\t\t<Col><Button></Button></Col>\n\t\t\t\t\t<Col><Button></Button></Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<Modal\n\t\t\t\t\tshow={this.state.investInputShow}\n\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\n\t\t\t\t\tcentered\n\t\t\t\t\t>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">\n\t\t\t\t\t\t\t投资\n\t\t\t\t\t\t</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t<Form.Group controlId=\"formBasicEmail\">\n\t\t\t\t\t\t\t<Form.Label>投资金额</Form.Label>\n\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"eth num\" ref=\"investInput\"/>\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t填入投资金额，不能大于最大投资金额，也不能小于最小投资金额 必须为数字\n\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button onClick={ this.invest.bind(this) }>投资</Button>\n\t\t\t\t\t\t<Button onClick={ ()=> this.setState({ investInputShow:false }) }>Close</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Project;"]},"metadata":{},"sourceType":"module"}