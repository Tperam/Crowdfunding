{"ast":null,"code":"var _jsxFileName = \"/home/tperam/code/crowdfunding/src/Component/projectDetail.js\";\nimport React from 'react';\nimport { Table } from 'react-bootstrap';\nimport web3 from '../libs/web3';\nimport getProjectContract from '../libs/project';\n\nclass Project extends React.Component {\n  constructor(props) {\n    super(props); // 获取 路由参数address\n\n    this.state = {\n      project: {}\n    };\n  }\n\n  async componentWillMount() {\n    console.log(this.props); // 获取地址\n\n    const address = this.props.match.params.address; // 获取合约实例\n\n    let instance = getProjectContract(address);\n\n    let _project = await instance.methods.getDetails().call();\n\n    console.log(instance);\n    let [owner, projectName, goal, maxInvest, minInvest, description, symbol, name, decimals, startDate, bonusEnds, bonusTokenToWei, tokenToWei, endDate] = Object.values(_project);\n    let project = {\n      address,\n      owner,\n      projectName: await web3.utils.toUtf8(projectName),\n      goal: await web3.utils.fromWei(goal, \"ether\"),\n      maxInvest: await web3.utils.fromWei(maxInvest, \"ether\"),\n      minInvest: await web3.utils.fromWei(minInvest, \"ether\"),\n      description,\n      symbol: await web3.utils.toUtf8(symbol),\n      name: await web3.utils.toUtf8(name),\n      decimals,\n      startDate: new Date(startDate * 1000),\n      bonusEnds: new Date(bonusEnds * 1000),\n      bonusTokenPrice: await web3.utils.fromWei(bonusTokenToWei, \"ether\"),\n      tokenPrice: await web3.utils.fromWei(tokenToWei, \"ether\"),\n      endDate: new Date(endDate * 1000)\n    };\n    this.setState({\n      project: project\n    });\n    console.log(this.state.project.startDate);\n    console.log(this.state.project.startDate.getFullYear());\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 8\n      }\n    }, \"\\u9879\\u76EE\\u5730\\u5740:\"), /*#__PURE__*/React.createElement(\"th\", {\n      colSpan: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 8\n      }\n    }, this.state.project.address))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 8\n      }\n    }, \"\\u9879\\u76EE\\u540D:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 8\n      }\n    }, this.state.project.projectName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 8\n      }\n    }, \"\\u4F17\\u7B79\\u91D1\\u989D\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 8\n      }\n    }, this.state.project.goal, \" eth\")), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 8\n      }\n    }, \"\\u6700\\u5927\\u6295\\u8D44\\u91D1\\u989D\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 8\n      }\n    }, this.state.project.maxInvest), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 8\n      }\n    }, \"\\u6700\\u5C0F\\u6295\\u8D44\\u91D1\\u989D\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 8\n      }\n    }, this.state.project.minInvest)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 8\n      }\n    }, \"\\u9879\\u76EE\\u5E01\\u7B80\\u79F0\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 8\n      }\n    }, this.state.project.symbol), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 8\n      }\n    }, \"\\u9879\\u76EE\\u5E01\\u5168\\u79F0\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 8\n      }\n    }, this.state.project.name)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 8\n      }\n    }, \"token\\u4EF7\\u503C\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 8\n      }\n    }, this.state.project.tokenPrice), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 8\n      }\n    }, \"\\u591A\\u5C11\\u4F4D\\u5C0F\\u6570\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 8\n      }\n    }, this.state.project.decimals)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 8\n      }\n    }, \"\\u5F00\\u59CB\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 8\n      }\n    }, this.state.project.startDate.getFullYear(), \"\\u5E74\", this.state.project.startDate.getMonth() + 1, \"\\u6708\", this.state.project.startDate.getDate() + 1, \"\\u65E5 \", this.state.project.startDate.getHours(), \"\\u65F6\", this.state.project.startDate.getMinutes(), \"\\u5206\", this.state.project.startDate.getSeconds(), \"\\u79D2\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 8\n      }\n    }, \"\\u7ED3\\u675F\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 8\n      }\n    }, this.state.project.endDate.getFullYear(), \"\\u5E74\", this.state.project.endDate.getMonth(), \"\\u6708\", this.state.project.endDate.getDate(), \"\\u65E5 \", this.state.project.endDate.getHours(), \"\\u65F6\", this.state.project.endDate.getMinutes(), \"\\u5206\", this.state.project.endDate.getSeconds(), \"\\u79D2\")), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 8\n      }\n    }, \"\\u5956\\u52B1\\u622A\\u6B62\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 8\n      }\n    }, this.state.project.bonusEnds.getFullYear(), \"\\u5E74\", this.state.project.bonusEnds.getMonth(), \"\\u6708\", this.state.project.bonusEnds.getDate(), \"\\u65E5 \", this.state.project.bonusEnds.getHours(), \"\\u65F6\", this.state.project.bonusEnds.getMinutes(), \"\\u5206\", this.state.project.bonusEnds.getSeconds(), \"\\u79D2\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 8\n      }\n    }, \"\\u5956\\u52B1\\u65F6token\\u4EF7\\u503C\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 8\n      }\n    }, this.state.project.bonusTokenPrice)))));\n  }\n\n}\n\nexport default Project;","map":{"version":3,"sources":["/home/tperam/code/crowdfunding/src/Component/projectDetail.js"],"names":["React","Table","web3","getProjectContract","Project","Component","constructor","props","state","project","componentWillMount","console","log","address","match","params","instance","_project","methods","getDetails","call","owner","projectName","goal","maxInvest","minInvest","description","symbol","name","decimals","startDate","bonusEnds","bonusTokenToWei","tokenToWei","endDate","Object","values","utils","toUtf8","fromWei","Date","bonusTokenPrice","tokenPrice","setState","getFullYear","render","getMonth","getDate","getHours","getMinutes","getSeconds"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Table } from 'react-bootstrap';\nimport web3 from '../libs/web3';\nimport getProjectContract from '../libs/project';\n\nclass Project extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t// 获取 路由参数address\n\t\tthis.state = {\n\t\t\tproject:{}\n\t\t}\n\n\t}\n\n\tasync componentWillMount(){\n\t\tconsole.log(this.props)\n\t\t// 获取地址\n\t\t\n\t\tconst address = this.props.match.params.address\n\t\t// 获取合约实例\n\t\tlet instance = getProjectContract(address);\n\t\tlet _project = await instance.methods.getDetails().call();\n\t\tconsole.log(instance);\n\t\tlet [\n\t\t\towner,\n\t\t\tprojectName,\n\t\t\tgoal,\n\t\t\tmaxInvest,\n\t\t\tminInvest,\n\t\t\tdescription,\n\t\t\tsymbol,\n\t\t\tname,\n\t\t\tdecimals,\n\t\t\tstartDate,\n\t\t\tbonusEnds,\n\t\t\tbonusTokenToWei,\n\t\t\ttokenToWei,\n\t\t\tendDate\n\t\t] = Object.values(_project)\n\t\tlet project = {\n\t\t\taddress,\n\t\t\towner,\n\t\t\tprojectName: await web3.utils.toUtf8(projectName),\n\t\t\tgoal: await web3.utils.fromWei(goal,\"ether\"),\n\t\t\tmaxInvest: await web3.utils.fromWei(maxInvest,\"ether\"),\n\t\t\tminInvest: await web3.utils.fromWei(minInvest,\"ether\"),\n\t\t\tdescription,\n\t\t\tsymbol: await web3.utils.toUtf8(symbol),\n\t\t\tname: await web3.utils.toUtf8(name),\n\t\t\tdecimals,\n\t\t\tstartDate: new Date(startDate*1000),\n\t\t\tbonusEnds: new Date(bonusEnds*1000),\n\t\t\tbonusTokenPrice: await web3.utils.fromWei(bonusTokenToWei,\"ether\"),\n\t\t\ttokenPrice: await web3.utils.fromWei(tokenToWei,\"ether\"),\n\t\t\tendDate: new Date(endDate*1000)\n\t\t}\n\t\tthis.setState({\n\t\t\tproject: project\n\t\t})\n\n\t\tconsole.log(this.state.project.startDate)\n\t\tconsole.log(this.state.project.startDate.getFullYear())\n\t}\n\n\trender(){\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Table striped bordered hover>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th align=\"right\">项目地址:</th>\n\t\t\t\t\t\t\t<th colSpan=\"1\">{this.state.project.address}</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>项目名:</td>\n\t\t\t\t\t\t\t<td>{this.state.project.projectName}</td>\n\t\t\t\t\t\t\t<td>众筹金额</td>\n\t\t\t\t\t\t\t<td>{this.state.project.goal} eth</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>最大投资金额</td>\n\t\t\t\t\t\t\t<td>{this.state.project.maxInvest}</td>\n\t\t\t\t\t\t\t<td>最小投资金额</td>\n\t\t\t\t\t\t\t<td>{this.state.project.minInvest}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>项目币简称</td>\n\t\t\t\t\t\t\t<td>{this.state.project.symbol}</td>\n\t\t\t\t\t\t\t<td>项目币全称</td>\n\t\t\t\t\t\t\t<td>{this.state.project.name}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>token价值</td>\n\t\t\t\t\t\t\t<td>{this.state.project.tokenPrice}</td>\n\t\t\t\t\t\t\t<td>多少位小数</td>\n\t\t\t\t\t\t\t<td>{this.state.project.decimals}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>开始时间</td>\n\t\t\t\t\t\t\t<td>{this.state.project.startDate.getFullYear()}年{this.state.project.startDate.getMonth()+1}月{this.state.project.startDate.getDate()+1}日 {this.state.project.startDate.getHours()}时{this.state.project.startDate.getMinutes()}分{this.state.project.startDate.getSeconds()}秒</td>\n\t\t\t\t\t\t\t<td>结束时间</td>\n\t\t\t\t\t\t\t<td>{this.state.project.endDate.getFullYear()}年{this.state.project.endDate.getMonth()}月{this.state.project.endDate.getDate()}日 {this.state.project.endDate.getHours()}时{this.state.project.endDate.getMinutes()}分{this.state.project.endDate.getSeconds()}秒</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>奖励截止时间</td>\n\t\t\t\t\t\t\t<td>{this.state.project.bonusEnds.getFullYear()}年{this.state.project.bonusEnds.getMonth()}月{this.state.project.bonusEnds.getDate()}日 {this.state.project.bonusEnds.getHours()}时{this.state.project.bonusEnds.getMinutes()}分{this.state.project.bonusEnds.getSeconds()}秒</td>\n\t\t\t\t\t\t\t<td>奖励时token价值</td>\n\t\t\t\t\t\t\t<td>{this.state.project.bonusTokenPrice}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Project;"]},"metadata":{},"sourceType":"module"}