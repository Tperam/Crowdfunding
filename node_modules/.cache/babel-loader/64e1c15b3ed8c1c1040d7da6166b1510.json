{"ast":null,"code":"var _jsxFileName = \"/home/tperam/code/crowdfunding/src/Component/projectList.js\";\nimport React from 'react';\nimport { Card, Button, Container, Row, Col } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport web3 from '../libs/web3';\nimport ProjectListContract from '../libs/projectList';\nimport getProjectContract from '../libs/project';\n\nclass ProjectList extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  async ComponentWillMount() {\n    // 获取所有众筹项目的地址\n    const addresses = await ProjectList.methods.getProjectList().call();\n    let projectInfoList = addresses.map((address, index) => {\n      let ProjectContract = getProjectContract(address);\n      let project = ProjectList.methods.getContractInfo().call();\n      let flagBonusTime = project.bonusEnd < Date.parse(new Date()) ? \"goldStyle\" : \"bronzeStyle\";\n      return /*#__PURE__*/React.createElement(Card, {\n        className: flagBonusTime,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(Card.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 6\n        }\n      }, project.projectName), /*#__PURE__*/React.createElement(Card.Body, {\n        as: Container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        className: \"textHidden\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 7\n        }\n      }, project.description), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 8\n        }\n      }, \"goal: \", web3.utils.fromWei(project.goal)), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 8\n        }\n      }, \"maxInvest: \", web3.utils.fromWei(project.maxInvest)), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 8\n        }\n      }, \"minInvest: \", web3.utils.fromWei(project.minInvest))), /*#__PURE__*/React.createElement(Button, {\n        as: Link,\n        to: \"/projectDetail/\" + address,\n        tovariant: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 7\n        }\n      }, \"Learn more\")));\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"projectList\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}\n\nexport default ProjectList;","map":{"version":3,"sources":["/home/tperam/code/crowdfunding/src/Component/projectList.js"],"names":["React","Card","Button","Container","Row","Col","Link","web3","ProjectListContract","getProjectContract","ProjectList","Component","constructor","props","ComponentWillMount","addresses","methods","getProjectList","call","projectInfoList","map","address","index","ProjectContract","project","getContractInfo","flagBonusTime","bonusEnd","Date","parse","projectName","description","utils","fromWei","goal","maxInvest","minInvest","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,SAAvB,EAAkCC,GAAlC,EAAuCC,GAAvC,QAAkD,iBAAlD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAkB,cAAlB;AACA,OAAOC,mBAAP,MAAgC,qBAAhC;AACA,OAAOC,kBAAP,MAA+B,iBAA/B;;AAEA,MAAMC,WAAN,SAA0BV,KAAK,CAACW,SAAhC,CAAyC;AAExCC,EAAAA,WAAW,CAAEC,KAAF,EAAQ;AAClB,UAAMA,KAAN;AACA;;AAED,QAAMC,kBAAN,GAA0B;AACzB;AACG,UAAMC,SAAS,GAAG,MAAML,WAAW,CAACM,OAAZ,CAAoBC,cAApB,GAAqCC,IAArC,EAAxB;AAGA,QAAIC,eAAe,GAAGJ,SAAS,CAACK,GAAV,CAAc,CAACC,OAAD,EAASC,KAAT,KAAiB;AACpD,UAAIC,eAAe,GAAGd,kBAAkB,CAACY,OAAD,CAAxC;AACA,UAAIG,OAAO,GAAGd,WAAW,CAACM,OAAZ,CAAoBS,eAApB,GAAsCP,IAAtC,EAAd;AAEA,UAAIQ,aAAa,GAAGF,OAAO,CAACG,QAAR,GAAmBC,IAAI,CAACC,KAAL,CAAW,IAAID,IAAJ,EAAX,CAAnB,GAA4C,WAA5C,GAA0D,aAA9E;AAEA,0BACC,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAGF,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACF,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAcF,OAAO,CAACM,WAAtB,CADE,eAEF,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,EAAE,EAAE3B,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,SAAS,EAAC,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoCqB,OAAO,CAACO,WAA5C,CADD,eAEC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAYxB,IAAI,CAACyB,KAAL,CAAWC,OAAX,CAAmBT,OAAO,CAACU,IAA3B,CAAZ,CADD,eAEC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiB3B,IAAI,CAACyB,KAAL,CAAWC,OAAX,CAAmBT,OAAO,CAACW,SAA3B,CAAjB,CAFD,eAGC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiB5B,IAAI,CAACyB,KAAL,CAAWC,OAAX,CAAmBT,OAAO,CAACY,SAA3B,CAAjB,CAHD,CAFD,eAOC,oBAAC,MAAD;AAAQ,QAAA,EAAE,EAAE9B,IAAZ;AAAkB,QAAA,EAAE,EAAE,oBAAkBe,OAAxC;AAAiD,QAAA,SAAS,EAAC,SAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPD,CAFE,CADD;AAcA,KApBqB,CAAtB;AAqBH;;AAEDgB,EAAAA,MAAM,GAAE;AAGP,wBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD;AAKA;;AA1CuC;;AA6CzC,eAAe3B,WAAf","sourcesContent":["import React from 'react';\nimport { Card, Button, Container, Row, Col } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport web3 from  '../libs/web3';\nimport ProjectListContract from '../libs/projectList';\nimport getProjectContract from '../libs/project';\n\nclass ProjectList extends React.Component{\n\n\tconstructor( props){\n\t\tsuper(props);\n\t}\n\n\tasync ComponentWillMount(){\n\t\t// 获取所有众筹项目的地址\n    \tconst addresses = await ProjectList.methods.getProjectList().call()\n\n    \t\n    \tlet projectInfoList = addresses.map((address,index)=>{\n    \t\tlet ProjectContract = getProjectContract(address);\n    \t\tlet project = ProjectList.methods.getContractInfo().call();\n\n    \t\tlet flagBonusTime = project.bonusEnd < Date.parse(new Date()) ? \"goldStyle\" : \"bronzeStyle\";\n\n    \t\treturn (\n\t    \t\t<Card className={ flagBonusTime }>\n\t\t\t\t\t<Card.Header>{project.projectName}</Card.Header>\n\t\t\t\t\t<Card.Body as={Container}>\n\t\t\t\t\t\t<Card.Title className=\"textHidden\">{project.description}</Card.Title>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>goal: {web3.utils.fromWei(project.goal)}</Col>\n\t\t\t\t\t\t\t<Col>maxInvest: {web3.utils.fromWei(project.maxInvest)}</Col>\n\t\t\t\t\t\t\t<Col>minInvest: {web3.utils.fromWei(project.minInvest)}</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Button as={Link} to={\"/projectDetail/\"+address} tovariant=\"primary\">Learn more</Button>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t)\n    \t})\n\t}\n\n\trender(){\n\t\t\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<projectList />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ProjectList;"]},"metadata":{},"sourceType":"module"}