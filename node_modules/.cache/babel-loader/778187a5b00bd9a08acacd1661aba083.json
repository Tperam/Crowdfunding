{"ast":null,"code":"var _jsxFileName = \"/home/tperam/code/crowdfunding/src/Component/projectDetail.js\";\nimport React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport web3 from '../libs/web3';\nimport getProjectContract from '../libs/project';\n\nclass Project extends React.Component {\n  constructor(props) {\n    super(props); // 获取 路由参数address\n\n    this.state = {\n      project: {}\n    };\n  }\n\n  async componentWillMount() {\n    console.log(this.props); // 获取地址\n\n    const address = this.props.match.params.address; // 获取合约实例\n\n    let instance = getProjectContract(address);\n    console.log(instance);\n    let [owner, projectName, goal, maxInvest, minInvest, description, symbol, name, decimals, startDate, bonusEnds, bonusTokenToWei, tokenToWei, endDate] = Object.values(await instance.methods.getDetails().call());\n    let project = {\n      owner,\n      projectName: web3.utils.toUtf8(projectName),\n      goal: web3.utils.fromWei(goal, \"ether\"),\n      maxInvest: web3.utils.fromWei(maxInvest, \"ether\"),\n      minInvest: web3.utils.fromWei(minInvest, \"ether\"),\n      description,\n      symbol: web3.utils.toUtf8(symbol),\n      name: web3.utils.toUtf8(name),\n      decimals,\n      startDate: new Date(startDate),\n      bonusEnds: new Date(bonusEnds),\n      bonusTokenToWei: web3.utils.fromWei(bonusTokenToWei, \"ether\"),\n      tokenToWei: web3.utils.fromWei(tokenToWei, \"ether\"),\n      endDate: new Date(endDate)\n    };\n    this.setState({\n      project: project\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }\n    }, \"\\u5F53\\u524D\\u9879\\u76EE\\u8BE6\\u60C5\"), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 2\n      },\n      className: \"infoTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, \"\\u5408\\u7EA6\\u62E5\\u6709\\u8005:\"), /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 4\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, this.state.project.owner), /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 2\n      },\n      className: \"infoTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, \"\\u9879\\u76EE\\u540D:\"), /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 4\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, this.state.project.projectName)), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 2\n      },\n      className: \"infoTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, \"\\u603B\\u4F17\\u7B79\\u91D1\\u989D:\"), /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 4\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, this.state.project.goal, \" eth\"), /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 2\n      },\n      className: \"infoTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, \"\\u9879\\u76EE\\u540D:\"), /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 4\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, this.state.project.projectName)), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 2\n      },\n      className: \"infoTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, \"\\u6700\\u5927\\u6295\\u8D44:\"), /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 4\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, this.state.project.maxInvest, \" eth\"), /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 2\n      },\n      className: \"infoTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, \"\\u6700\\u5C0F\\u6295\\u8D44:\"), /*#__PURE__*/React.createElement(Col, {\n      xs: {\n        span: 4\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, this.state.project.minInvest))));\n  }\n\n}\n\nexport default Project;","map":{"version":3,"sources":["/home/tperam/code/crowdfunding/src/Component/projectDetail.js"],"names":["React","Container","Row","Col","web3","getProjectContract","Project","Component","constructor","props","state","project","componentWillMount","console","log","address","match","params","instance","owner","projectName","goal","maxInvest","minInvest","description","symbol","name","decimals","startDate","bonusEnds","bonusTokenToWei","tokenToWei","endDate","Object","values","methods","getDetails","call","utils","toUtf8","fromWei","Date","setState","render","span"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Container,Row,Col } from 'react-bootstrap';\nimport web3 from '../libs/web3';\nimport getProjectContract from '../libs/project';\n\nclass Project extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\t// 获取 路由参数address\n\t\tthis.state = {\n\t\t\tproject:{}\n\t\t}\n\n\t}\n\n\tasync componentWillMount(){\n\t\tconsole.log(this.props)\n\t\t// 获取地址\n\t\t\n\t\tconst address = this.props.match.params.address\n\t\t// 获取合约实例\n\t\tlet instance = getProjectContract(address);\n\n\t\tconsole.log(instance);\n\t\tlet [\n\t\t\towner,\n\t\t\tprojectName,\n\t\t\tgoal,\n\t\t\tmaxInvest,\n\t\t\tminInvest,\n\t\t\tdescription,\n\t\t\tsymbol,\n\t\t\tname,\n\t\t\tdecimals,\n\t\t\tstartDate,\n\t\t\tbonusEnds,\n\t\t\tbonusTokenToWei,\n\t\t\ttokenToWei,\n\t\t\tendDate\n\t\t] = Object.values(await instance.methods.getDetails().call())\n\t\tlet project = {\n\t\t\towner,\n\t\t\tprojectName: web3.utils.toUtf8(projectName),\n\t\t\tgoal: web3.utils.fromWei(goal,\"ether\"),\n\t\t\tmaxInvest: web3.utils.fromWei(maxInvest,\"ether\"),\n\t\t\tminInvest: web3.utils.fromWei(minInvest,\"ether\"),\n\t\t\tdescription,\n\t\t\tsymbol: web3.utils.toUtf8(symbol),\n\t\t\tname: web3.utils.toUtf8(name),\n\t\t\tdecimals,\n\t\t\tstartDate: new Date(startDate),\n\t\t\tbonusEnds: new Date(bonusEnds),\n\t\t\tbonusTokenToWei: web3.utils.fromWei(bonusTokenToWei,\"ether\"),\n\t\t\ttokenToWei: web3.utils.fromWei(tokenToWei,\"ether\"),\n\t\t\tendDate: new Date(endDate)\n\t\t}\n\t\tthis.setState({\n\t\t\tproject: project\n\t\t})\n\t}\n\n\trender(){\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Container>\n\t\t\t\t\t<h1>当前项目详情</h1>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xs={{span:2}} className={\"infoTitle\"}>合约拥有者:</Col>\n\t\t\t\t\t\t<Col xs={{span:4}} >{this.state.project.owner}</Col>\n\t\t\t\t\t\t<Col xs={{span:2}} className={\"infoTitle\"}>项目名:</Col>\n\t\t\t\t\t\t<Col xs={{span:4}} >{this.state.project.projectName}</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xs={{span:2}} className={\"infoTitle\"}>总众筹金额:</Col>\n\t\t\t\t\t\t<Col xs={{span:4}} >{this.state.project.goal} eth</Col>\n\t\t\t\t\t\t<Col xs={{span:2}} className={\"infoTitle\"}>项目名:</Col>\n\t\t\t\t\t\t<Col xs={{span:4}} >{this.state.project.projectName}</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xs={{span:2}} className={\"infoTitle\"}>最大投资:</Col>\n\t\t\t\t\t\t<Col xs={{span:4}} >{this.state.project.maxInvest} eth</Col>\n\t\t\t\t\t\t<Col xs={{span:2}} className={\"infoTitle\"}>最小投资:</Col>\n\t\t\t\t\t\t<Col xs={{span:4}} >{this.state.project.minInvest}</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Project;"]},"metadata":{},"sourceType":"module"}